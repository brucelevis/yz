netshop = netshop or {
	C2S = {},
	S2C = {},
}

local C2S = netshop.C2S
local S2C = netshop.S2C

function C2S.buygoods(player,request)
	local shopname = assert(request.shopname)
	local goods_id = assert(request.goods_id)
	local buynum = assert(request.num)
	local globalshop = globalmgr.globalshopdb[shopname]
	local shop = player.shopdb[shopname]
	if globalshop and globalshop.buygoods then
		globalshop:buygoods(player,goods_id,buynum)
	elseif shop and shop.buygoods then
		shop:buygoods(player,goods_id,buynum)
	end
end

function C2S.refresh(player,request)
	local shopname = assert(request.shopname)
	local shop = player.shopdb[shopname]
	if shop and shop.refresh then
		shop:refresh()
	end
	-- dosomething()
end

function C2S.openshop(player,request)
	local shopname = assert(request.shopname)
	local globalshop = globalmgr.globalshopdb[shopname]
	if globalshop and globalshop.open then
		globalshop:open(player)
	end
end
-- s2c

return netshop
