gm = require "gamelogic.gm.init"

local chapter = {}

function gm.chapter(args)
	local funcname = args[1]
	local player = playermgr.getplayer(master_pid)
	if not player then
		return
	end
	local func = chapter[funcname]
	if not func then
		return
	end
	table.remove(args,1)
	func(player,args)
end

function chapter.rmaward(player,args)
	local isok,args = checkargs(args,"int")
	if not isok then
		net.msg.S2C.notify(player.pid,"chapter rmaward 奖励id")
		return
	end
	local awardid = args[1]
	table.remove_val(player.chapterdb.awardrecord,awardid,1)
	net.chapter.S2C.awardrecord(player.pid,player.chapterdb.awardrecord)
end
